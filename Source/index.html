<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head><title>Scanner Keystroke Observer</title>
<style>
body {
	font-family: Verdana;
	font-size: 12px;
	background-color: #fcfcfc;
	color: #333;
}
h2 {
	margin: 25px 0px 5px; 
}
pre {
	margin: 5px 10px;
	padding:0px;
}
</style>
<script src="http://ajax.googleapis.com/ajax/libs/mootools/1.2.4/mootools-yui-compressed.js" language="JavaScript" type="text/javascript" ></script>
<script src="ScannerKeystrokeObserver.js" ></script>
<script>
window.addEvent('domready', function() {
	new ScannerKeystrokeObserver({
		delay: 500,
		onRead: function(v) {
			$('txtGlobal').set('value', v).highlight();
		}
	});
	new ScannerKeystrokeObserver({
		element: 'txtLocal',
		delay: 500,
		onRead: function(v) {
			$('txtLocal').set('value', v).highlight();
		}
	});
});

</script>
</head>
<body>
	<h1>ScannerKeystrokeObserver</h1>
	<p>A class to automatically detect entries from a hardware device that 
generates keystrokes (like a barcode scanner).</p>
	
	<p>How does it work? This class is designed on the assumption that your barcode scanner 
	hardware will act like a keyboard. As a barcode is scanned a series of keypress 
	events will be generated by the device. If these key events are in fast enough succession (the order 
	of milliseconds), then it can be assumed that a scanner device pushed the series of key events. Otherwise it is
	just normal human input and will be ignored by the barcode reader class.</p>
	
	<div>
		<h2>How to use</h2>
		<p>Include the following code in the head of your web page.</p>
		<pre>
	&lt;script src=&quot;http://ajax.googleapis.com/ajax/libs/mootools/1.2.4/mootools-yui-compressed.js&quot; language=&quot;JavaScript&quot; type=&quot;text/javascript&quot; &gt;&lt;/script&gt;
	&lt;script src=&quot;ScannerKeystrokeObserver.js&quot; &gt;&lt;/script&gt;
	&lt;script&gt;
	new ScannerKeystrokeObserver({
		onRead: function(v) {
			$('txtGlobal').set('value', v).highlight();
		}
	});
	&lt;/script&gt;
		</pre>
	</div>
	
	<p>The demo's below: The delay to detect between keypresses has been increased from 30ms to 500ms to allow you
	to manually type in to test.</p>
	
	<div>
		<h2>Global catch</h2>
		<pre>
	new ScannerKeystrokeObserver({
		onRead: function(v) {
			$('txtGlobal').set('value', v).highlight();
		}
	});
		</pre>
		<input type="text" value="" id="txtGlobal" disabled="disabled" />
	</div>
	
	<div>
		<h2>Linked to a text control</h2>
		<pre>
	new ScannerKeystrokeObserver({
		element: 'txtLocal',
		onRead: function(v) {
			$('txtLocal').set('value', v).highlight();
		}
	});
		</pre>
		<p>Type in the following control to fire events.</p>
		<input type="text" value="" id="txtLocal" />
	</div>
	
</body>
</html>